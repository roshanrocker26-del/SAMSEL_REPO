{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Teacher Dashboard | SAMSEL</title>

    <link rel="stylesheet" href="{% static 'css/teacher_dashboard.css' %}">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
</head>

<body>

    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <a href="/">
                        <span class="logo-main">SAMSEL</span>
                        <span class="logo-sub">Publications</span>
                    </a>
                </div>
                <ul class="menu">
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li><a href="{% url 'teacher_logout' %}">Logout</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="dashboard">

        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">

            <div class="sidebar-toggle" onclick="toggleSidebar()">‚ò∞</div>

            <ul class="sidebar-menu">
                <li>
                    <button onclick="showSection('profile')">
                        üë§ <span>Profile</span>
                    </button>
                </li>
                <li>
                    <button class="active" onclick="showSection('ebooks')">
                        üìö <span>E-Books</span>
                    </button>
                </li>
                <li>
                    <button onclick="showSection('syllabus')">
                        üìò <span>Syllabus</span>
                    </button>
                </li>
                <li>
                    <button onclick="showSection('question')">
                        üìù <span>Question Generator</span>
                    </button>
                </li>
            </ul>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="dashboard-content">

            <!-- PROFILE -->
            <section id="profile" class="content-section">
                <h2>Teacher Profile</h2>

                <div class="profile-card">
                    <img src="{% static 'images/icon5.png' %}" alt="Teacher">

                    <div class="profile-details">
                        <p><strong>Name:</strong> {{ teacher.teacher_name }}</p>
                        <p><strong>Teacher ID:</strong> {{ teacher.t_id }}</p>
                        <p><strong>Contact Number:</strong> {{ teacher.contact }}</p>
                        <p><strong>School:</strong> {{ teacher.school_name }}</p>
                        <p><strong>School ID:</strong> {{ teacher.school_id }}</p>

                        <p><strong>Purchased Books:</strong></p>
                        <table class="books-table">
                            <thead>
                                <tr>
                                    <th>Book Series</th>
                                    <th>Classes</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if books %}
                                {% for book in books %}
                                <tr>
                                    <td>{{ book.series }}</td>
                                    <td>{{ book.class_num }}</td>
                                </tr>
                                {% endfor %}
                                {% else %}
                                <tr>
                                    <td colspan="2" style="text-align:center;">No books purchased yet.</td>
                                </tr>
                                {% endif %}
                            </tbody>
                        </table>

                    </div>
                </div>
            </section>
            <!-- EBOOKS -->
            <section id="ebooks" class="content-section active">
                <h2>E-Books</h2>
                <p>Access SAMSEL interactive digital textbooks.</p>
                <div class="ebooks-grid"
                    style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">
                    {% if ebooks %}
                    {% for book in ebooks %}
                    <div class="card"
                        style="background: rgba(255,255,255,0.85); padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.12); text-align: center; transition: transform 0.3s ease;">
                        <h3 style="font-size: 18px; margin-bottom: 20px; color: #111827;">{{ book.title }}</h3>
                        <a href="{{ book.view_url }}" target="_blank" class="download-btn"
                            style="display: block; width: auto; margin: 0 auto; padding: 12px 20px;">View Book</a>
                    </div>
                    {% endfor %}
                    {% else %}
                    <p style="grid-column: 1/-1; text-align: center; color: #6b7280; font-style: italic;">No e-books
                        assigned to you yet. Please contact the administrator.</p>
                    {% endif %}
                </div>
            </section>

            <!-- SYLLABUS -->
            <section id="syllabus" class="content-section">
                <h2>Syllabus</h2>
                <p>Download the latest syllabus.</p>
                <a href="#" class="download-btn">Download Syllabus</a>
            </section>

            <!-- QUESTION GENERATOR -->
            <section id="question" class="content-section">
                <h2>Question Paper Generator</h2>

                <form method="POST" action="{% url 'generate_paper' %}" class="qp-form">
                    {% csrf_token %}

                    <!-- Total Marks -->
                    <label>Total Marks</label>
                    <select name="total_marks">
                        <option value="20">20 Marks</option>
                        <option value="30">30 Marks</option>
                        <option value="40">40 Marks</option>
                        <option value="50">50 Marks</option>
                        <option value="60">60 Marks</option>
                    </select>

                    <!-- Standard -->
                    <label>Standard</label>
                    <select name="standard">
                        <option value="1">Standard 1</option>
                        <option value="2">Standard 2</option>
                        <option value="3">Standard 3</option>
                        <option value="4">Standard 4</option>
                        <option value="5">Standard 5</option>
                        <option value="6">Standard 6</option>
                        <option value="7">Standard 7</option>
                        <option value="8">Standard 8</option>
                        <option value="9">Standard 9</option>
                    </select>

                    <!-- Book Series -->
                    <label>Book Series</label>
                    <select name="series">
                        <option value="ibot">Series ibot</option>
                        <option value="ismart">Series ismart</option>
                        <option value="iwhizz">Series iwhizz</option>
                        <option value="Application 2007">Series Application 2007</option>
                        <option value="Application 2016">Series Application 2016</option>
                        <option value="Young Wizard">Series Young Wizard</option>
                        <option value="Programming">Series Programming</option>
                        <option value="Right-click">Series Right-click</option>
                        <option value="My Computer">Series My Computer</option>
                        <option value="Little Wizard">Series iwhizz</option>
                    </select>

                    <!-- Chapters -->
                    <label>Select Chapters</label>
                    <div class="chapter-box">
                        <label><input type="checkbox" name="chapters" value="1"> Chapter 1</label>
                        <label><input type="checkbox" name="chapters" value="2"> Chapter 2</label>
                        <label><input type="checkbox" name="chapters" value="3"> Chapter 3</label>
                        <label><input type="checkbox" name="chapters" value="4"> Chapter 4</label>
                        <label><input type="checkbox" name="chapters" value="5"> Chapter 5</label>
                        <label><input type="checkbox" name="chapters" value="6"> Chapter 6</label>
                        <label><input type="checkbox" name="chapters" value="7"> Chapter 7</label>
                        <label><input type="checkbox" name="chapters" value="8"> Chapter 8</label>
                        <label><input type="checkbox" name="chapters" value="9"> Chapter 9</label>
                        <label><input type="checkbox" name="chapters" value="10"> Chapter 10</label>
                    </div>

                    <button type="submit">Generate & Download</button>
                </form>
            </section>



        </main>
    </div>

    <footer>
        <p>¬© 2026 SAMSEL Publications</p>
    </footer>

    <script src="{% static 'js/scroll.js' %}"></script>
</body>

</html>